<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>1&nbsp;Motivation</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Small Rust OS Documentation</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Motivation</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="A_Toy_Operating_System.html" class="tocviewlink" data-pltdoc="x">A Toy Operating System</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="The_Components.html" class="tocviewlink" data-pltdoc="x">The Components</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="The_Plan.html" class="tocviewlink" data-pltdoc="x">The Plan</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Contributor_Resources.html" class="tocviewlink" data-pltdoc="x">Contributor Resources</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>1&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Motivation</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.1&nbsp;</td><td><a href="#%28part._.Why_%29" class="tocviewlink" data-pltdoc="x">Why?</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._.Why_%29" class="tocsubseclink" data-pltdoc="x">Why?</a></td></tr><tr><td><span class="tocsublinknumber">1.1.1<tt>&nbsp;</tt></span><a href="#%28part._.Why_.Operating_.Systems_%29" class="tocsubseclink" data-pltdoc="x">Why Operating Systems?</a></td></tr><tr><td><span class="tocsublinknumber">1.1.2<tt>&nbsp;</tt></span><a href="#%28part._.Why_.Rust_%29" class="tocsubseclink" data-pltdoc="x">Why Rust?</a></td></tr><tr><td><span class="tocsublinknumber">1.1.3<tt>&nbsp;</tt></span><a href="#%28part._.Why_.Systematic_.Design_%29" class="tocsubseclink" data-pltdoc="x">Why Systematic Design?</a></td></tr><tr><td><span class="tocsublinknumber">1.1.3.1<tt>&nbsp;</tt></span><a href="#%28part._%29" class="tocsubseclink" data-pltdoc="x"></a></td></tr><tr><td><span class="tocsublinknumber">1.1.3.2<tt>&nbsp;</tt></span><a href="#%28part._.Systematic_.Design_in_our_.O.S%29" class="tocsubseclink" data-pltdoc="x">Systematic Design in our OS</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.4</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="index.html" title="backward to &quot;Small Rust OS Documentation&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Small Rust OS Documentation&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="A_Toy_Operating_System.html" title="forward to &quot;2 A Toy Operating System&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>1<tt>&nbsp;</tt><a name="(part._.Motivation)"></a>Motivation</h3><p>First and foremost, the idea came from Philipp Oppermann&rsquo;s
<a href="https://os.phil-opp.com/">Writing an OS in Rust</a>
blog series.</p><h4>1.1<tt>&nbsp;</tt><a name="(part._.Why_)"></a>Why?</h4><h5>1.1.1<tt>&nbsp;</tt><a name="(part._.Why_.Operating_.Systems_)"></a>Why Operating Systems?</h5><p>We first became interested in operating systems after exploring
<a href="https://pdos.csail.mit.edu/6.828/2012/xv6.html">xv6</a>,
which is an OS used as a teaching tool in systems courses.</p><h5>1.1.2<tt>&nbsp;</tt><a name="(part._.Why_.Rust_)"></a>Why Rust?</h5><p>We chose Rust because...</p><ul><li><p>Zero-cost abstractions&#8212; Operating systems are complex and demand performance.
Zero-cost abstractions allow developers to write high-lvel, readable,
and maintainable code without compromising on performance. Being able to write
abstract code allows developers to code without the introduction of unnecessary
overhead and errors that can arise from low level programming.</p></li><li><p>Memory safety&#8212;...</p></li><li><p>Borrow checker&#8212;...</p></li><li><p>Immutable by default&#8212;...</p></li><li><p>Type safety&#8212;...</p></li></ul><h5>1.1.3<tt>&nbsp;</tt><a name="(part._.Why_.Systematic_.Design_)"></a>Why Systematic Design?</h5><p>The preface of
<a href="https://htdp.org/2023-8-14/Book/part_preface.html">How to Design Programs</a>
describes the philosophy behind how we approach our project:</p><blockquote class="SubFlow"><p>By &#8220;good programming,&#8221; we mean an approach to the creation of software
that relies on systematic thought, planning, and understanding from the very
beginning, at every stage, and for every step.</p></blockquote><p>In our introductory computer science course, we learned the <span style="font-style: italic">design
recipe</span>, a way of systematically designing small functions. The essence of it
distills to the idea that <span style="font-style: italic">functions follow their data</span>.</p><h5>1.1.3.1<tt>&nbsp;</tt><a name="(part._)"></a></h5><p>Let&rsquo;s give an example by implementing <span class="RktVar">length</span>, which takes the length
of a list.</p><p><span style="font-weight: bold">Step 1</span>: Data Definitions</p><p>We first want to study the <span style="font-style: italic">data definition</span> of a list.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">A</span><span class="hspace">&nbsp;</span><span class="RktCmt">[Listof</span><span class="hspace">&nbsp;</span><span class="RktCmt">X]</span><span class="hspace">&nbsp;</span><span class="RktCmt">is</span><span class="hspace">&nbsp;</span><span class="RktCmt">one</span><span class="hspace">&nbsp;</span><span class="RktCmt">of:</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">-</span><span class="hspace">&nbsp;</span><span class="RktCmt">'()</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">-</span><span class="hspace">&nbsp;</span><span class="RktCmt">(cons</span><span class="hspace">&nbsp;</span><span class="RktCmt">X</span><span class="hspace">&nbsp;</span><span class="RktCmt">[Listof</span><span class="hspace">&nbsp;</span><span class="RktCmt">X])</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">and</span><span class="hspace">&nbsp;</span><span class="RktCmt">represents</span><span class="hspace">&nbsp;</span><span class="RktCmt">a</span><span class="hspace">&nbsp;</span><span class="RktCmt">sequence</span><span class="hspace">&nbsp;</span><span class="RktCmt">of</span><span class="hspace">&nbsp;</span><span class="RktCmt">ordered</span><span class="hspace">&nbsp;</span><span class="RktCmt">data.</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">struct</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">cons</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">el</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">lst</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>For any <span style="font-style: italic">action</span> we want to perform on a list, there are two different
cases we need to handle. The case where it&rsquo;s an empty list, and the case where
it&rsquo;s a non-empty list (a <span class="RktSym">cons</span>).</p><p>The design recipe specifies a <a name="(tech._template)"></a><span style="font-style: italic">template</span> that acts as a blueprint for a
function that applies an action on a data structure. For a list, that would look
like the following:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">list-temp</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">lst</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">cond</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">empty?</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">lst</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">...</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">cons?</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">lst</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">...</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">first</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">lst</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">...</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">rest</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">lst</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">...</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Then, when we want to write a function on a list, we can copy this template and
fill in the blanks to perform the action we want.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>To dive deeper, you can read <span style="font-style: italic">How to Design Programs</span> or
<a href="https://priime.dev/blog/recursion.html">Recursion as Structural
Decomposition.</a></p></blockquote></blockquote></blockquote><p><span style="font-weight: bold">Step 2</span>: Signature, Purpose Statement, Header</p><p>We&rsquo;re writing <span class="RktVar">length</span>, which takes in a list and produces a number
representing its length. If we assume <span class="RktSym">Natural</span> to represent non-negative
integers, then we can write the signature of <span class="RktVar">length</span> as follows:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">length</span><span class="hspace">&nbsp;</span><span class="RktCmt">:</span><span class="hspace">&nbsp;</span><span class="RktCmt">[Listof</span><span class="hspace">&nbsp;</span><span class="RktCmt">X]</span><span class="hspace">&nbsp;</span><span class="RktCmt">-&gt;</span><span class="hspace">&nbsp;</span><span class="RktCmt">Natural</span><span class="RktMeta"></span></td></tr></table></blockquote><p>We also want to write what the <span style="font-style: italic">purpose</span> of the function is &ndash; why does
it need to exist? What is its use-case?</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">Computes</span><span class="hspace">&nbsp;</span><span class="RktCmt">the</span><span class="hspace">&nbsp;</span><span class="RktCmt">length</span><span class="hspace">&nbsp;</span><span class="RktCmt">of</span><span class="hspace">&nbsp;</span><span class="RktCmt">the</span><span class="hspace">&nbsp;</span><span class="RktCmt">given</span><span class="hspace">&nbsp;</span><span class="RktCmt">list.</span><span class="RktMeta"></span></td></tr></table></blockquote><p>The purpose statement is concise. Note that this example is somewhat contrived
&ndash; it just reiterates the name of the function. After a copy-paste of the
template and renaming the function, we get this so far:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">length</span><span class="hspace">&nbsp;</span><span class="RktCmt">:</span><span class="hspace">&nbsp;</span><span class="RktCmt">[Listof</span><span class="hspace">&nbsp;</span><span class="RktCmt">X]</span><span class="hspace">&nbsp;</span><span class="RktCmt">-&gt;</span><span class="hspace">&nbsp;</span><span class="RktCmt">Natural</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">;;</span><span class="hspace">&nbsp;</span><span class="RktCmt">Computes</span><span class="hspace">&nbsp;</span><span class="RktCmt">the</span><span class="hspace">&nbsp;</span><span class="RktCmt">length</span><span class="hspace">&nbsp;</span><span class="RktCmt">of</span><span class="hspace">&nbsp;</span><span class="RktCmt">the</span><span class="hspace">&nbsp;</span><span class="RktCmt">given</span><span class="hspace">&nbsp;</span><span class="RktCmt">list.</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">define</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">length</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">lst</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">cond</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">empty?</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">lst</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">...</span><span class="RktPn">]</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">cons?</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">lst</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">...</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">first</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">lst</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">...</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">rest</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">lst</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">...</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>We&rsquo;re off to a great start!</p><h5>1.1.3.2<tt>&nbsp;</tt><a name="(part._.Systematic_.Design_in_our_.O.S)"></a>Systematic Design in our OS</h5><p>An operating system is considerably larger than a function, consisting of
numerous complex components. As a group, we want to use this as an opportunity
to systematically design and implement a reasonably challenging project, testing
the accumulation of ideas we learned in Northeastern&rsquo;s CS curriculum.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="index.html" title="backward to &quot;Small Rust OS Documentation&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Small Rust OS Documentation&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="A_Toy_Operating_System.html" title="forward to &quot;2 A Toy Operating System&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>